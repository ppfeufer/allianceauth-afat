$(document).ready(()=>{'use strict';const a=afatSettings.dataTable.language;characters.length>0&&characters.forEach(t=>{const e=$('#recent-fats-character-'+t.charId),n=afatSettings.url.characterFats.replace('0',t.charId);fetchGet({url:n}).then(t=>{e.DataTable({language:a,data:t,columns:[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'system'},{data:'ship_type'},{data:'fleet_time',render:{display:a=>moment(a.time).utc().format(AFAT_DATETIME_FORMAT),_:'timestamp'}}],paging:!1,ordering:!1,searching:!1,info:!1})}).catch(a=>{console.error('Error fetching recent FATs for character:',t.charId,a)})});const t='<div class="aa-callout aa-callout-warning" role="alert"><p>'+afatSettings.translation.dataTable.noFatlinksWarning+'</p></div>',e=[{data:'fleet_name'},{data:'fleet_type'},{data:'doctrine'},{data:'creator_name'},{data:'fleet_time',render:{display:a=>moment(a.time).utc().format(AFAT_DATETIME_FORMAT),_:'timestamp'}}],n=[];!0!==afatSettings.permissions.addFatLink&&!0!==afatSettings.permissions.manageAfat||(e.push({data:'actions',render:a=>a}),n.push({targets:[5],orderable:!1,createdCell:a=>{$(a).addClass('text-end')}})),a.emptyTable=t,fetchGet({url:afatSettings.url.recentFatLinks}).then(t=>{$('#dashboard-recent-fatlinks').DataTable({language:a,data:t,columns:e,columnDefs:n,paging:!1,ordering:!1,searching:!1,info:!1})}).catch(a=>{console.error('Error fetching recent FAT links:',a)});const r=$(afatSettings.modal.cancelEsiFleetModal.element);manageModal(r);const s=$(afatSettings.modal.deleteFatLinkModal.element);manageModal(s)});
//# sourceMappingURL=afat-dashboard.min.js.map