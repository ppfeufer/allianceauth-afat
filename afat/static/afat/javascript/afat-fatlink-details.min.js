$(document).ready(()=>{'use strict';const t=afatSettings.dataTable.language,e=$('#fleet-edit-fat-list');fetchGet({url:afatSettings.url}).then(a=>{e.DataTable({language:t,data:a,columns:[{data:'character_name'},{data:'system'},{data:'ship_type'},{data:'actions'}],columnDefs:[{targets:[3],orderable:!1,createdCell:t=>{$(t).addClass('text-end')}}],order:[[0,'asc']],createdRow:(t,e)=>{const a=$('#fleet-edit-ship-types'),s=convertStringToSlug(e.ship_type);if($('tr.shiptype-'+s).length){const t=a.find('tr.shiptype-'+s+' td.ship-type-count').html(),e=parseInt(t)+1;a.find('tr.shiptype-'+s+' td.ship-type-count').html(e)}else a.append('<tr class="shiptype-'+s+'"><td class="ship-type">'+e.ship_type+'</td><td class="ship-type-count text-end">1</td></tr>');sortTable(a,'asc')},stateSave:!0,stateDuration:-1})}).catch(t=>{console.error('Error fetching FAT list:',t)});const a=15e3;let s=Date.now()+a;const n=()=>{const t=Date.now()-s,o=window.location.pathname+window.location.search+window.location.hash;t>a&&(o.startsWith('/')?window.location.replace(o):console.error('Invalid redirect URL')),fetchGet({url:afatSettings.url}).then(t=>{const a=e.DataTable(),s=$('#fleet-edit-ship-types');a.clear().rows.add(t).draw(),s.find('tbody').html(''),$.each(t,(t,e)=>{const a=convertStringToSlug(e.ship_type);if($('tr.shiptype-'+a).length){const t=s.find('tr.shiptype-'+a+' td.ship-type-count').html(),e=parseInt(t)+1;s.find('tr.shiptype-'+a+' td.ship-type-count').html(e)}else s.append('<tr class="shiptype-'+a+'"><td class="ship-type">'+e.ship_type+'</td><td class="ship-type-count text-end">1</td></tr>')}),sortTable(s,'asc')}),s+=a,setTimeout(n,Math.max(0,a-t))};!0===afatSettings.reloadDatatable&&setTimeout(n,a);new ClipboardJS('.copy-btn').on('success',()=>{$('.copy-btn').tooltip('show')});const o=$(afatSettings.modal.cancelEsiFleetModal.element);manageModal(o);const l=$(afatSettings.modal.deleteFatModal.element);manageModal(l);const i=$(afatSettings.modal.reopenFatLinkModal.element);manageModal(i)});
//# sourceMappingURL=afat-fatlink-details.min.js.map